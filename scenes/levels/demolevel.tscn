[gd_scene load_steps=15 format=3 uid="uid://cxswwg0468crn"]

[ext_resource type="Script" path="res://scenes/levels/demolevel.gd" id="1_8ijdj"]
[ext_resource type="PackedScene" uid="uid://c7rkhuqxq72v1" path="res://source/entity/player.tscn" id="1_tkhkh"]
[ext_resource type="Texture2D" uid="uid://cyvda4p0hrnss" path="res://assets/textures/UV.jpeg" id="2_wn420"]
[ext_resource type="PackedScene" uid="uid://dcftaala3gn8l" path="res://source/entity/cube.tscn" id="3_eo1n3"]
[ext_resource type="Texture2D" uid="uid://bh1aakb7xno6v" path="res://assets/textures/1024x1024 Texel Density Texture 3.png" id="4_mlklw"]
[ext_resource type="PackedScene" uid="uid://cy8mt8r2js6wh" path="res://source/entity/npc_enemy.tscn" id="4_ybswb"]
[ext_resource type="PackedScene" uid="uid://bo6q7dydjheil" path="res://source/entity/area_detection.tscn" id="5_fvnkl"]
[ext_resource type="PackedScene" uid="uid://ck3whm0a2psc8" path="res://source/entity/grenade.tscn" id="8_ml6o5"]

[sub_resource type="PhysicalSkyMaterial" id="PhysicalSkyMaterial_yay20"]
energy_multiplier = 2.0

[sub_resource type="Sky" id="Sky_6xbqk"]
sky_material = SubResource("PhysicalSkyMaterial_yay20")

[sub_resource type="Environment" id="Environment_hrqk3"]
background_mode = 2
sky = SubResource("Sky_6xbqk")
tonemap_mode = 2
ssr_max_steps = 512
sdfgi_use_occlusion = true

[sub_resource type="NavigationMesh" id="NavigationMesh_co0ng"]
vertices = PackedVector3Array(-5.25, 1, -11.5, -3.5, 1, -11.75, -3.75, 1, -14.5, -14.5, 1, -9, -5.25, 1, -9.25, -5.25, 1, -11.5, -5.25, 1, -11.5, -3.75, 1, -14.5, -14.5, 1, -14.5, -14.5, 1, -9, -3.75, 1, -14.5, -3.5, 1, -11.75, -0.25, 1, -11.75, 0, 1, -8.75, 4.5, 1, -8.5, 4.5, 1, -9.5, -0.25, 1, -11.75, 4.5, 1, -9.5, 5.75, 1, -9.75, 5.75, 1, -14.5, -3.75, 1, -14.5, -0.25, 1, -11.75, 5.75, 1, -14.5, 5.75, 1, -9.75, 6.75, 1, -9.5, 14.5, 1, -14.5, 6.75, 1, -0.75, 6.25, 1, -0.5, 14.5, 1, -0.25, 6.75, 1, -9.5, 6.75, 1, -0.75, 14.5, 1, -0.25, 14.5, 1, -14.5, -4.25, 1.75, -10.75, -4.25, 1.75, -8.5, -1, 1.75, -8.5, -1, 1.75, -10.75, -2.75, 1, -2.75, -2.75, 1, -3.5, -3.25, 1, -3.75, -4.5, 1, -2.5, -14.5, 1, 2, -8, 1, 2, -7.75, 1, 0.75, -3.25, 1, -5.5, -2.25, 1, -5.75, -2.25, 1, -7.5, -5, 1, -7.5, -4.5, 1, -2.5, -5, 1, -7.5, -5.25, 1, -9.25, -14.5, 1, -9, -14.5, 1, 2, -7.75, 1, 0.75, -4.5, 1, -2.5, -3.25, 1, -3.75, -3.25, 1, -5.5, -5, 1, -7.5, -7.75, 1, 0.75, -4.5, 1, 0.75, -4.5, 1, -2.5, -2.75, 1, -3.5, -2.75, 1, -2.75, -2.25, 1, -2.5, -1, 1, -3.75, 3.75, 1, -2.75, 4, 1, -1.5, 4.5, 1, -1.75, 4.5, 1, -8.5, 1, 1, 0.75, 1.75, 1, -0.75, 2, 1, -2.75, -1, 1, -3.75, -2.25, 1, -2.5, -2.25, 1, 0.75, 1, 1, 0.75, 1.25, 1, 1.25, 2.25, 1, -0.5, 1.75, 1, -0.75, 4.5, 1, -8.5, 0, 1, -8.75, -0.25, 1, -7.5, -2.25, 1, -7.5, -2.25, 1, -5.75, -1, 1, -5.5, -0.25, 1, -7.5, -0.25, 1, -7.5, -1, 1, -5.5, -1, 1, -3.75, 2, 1, -2.75, 3.75, 1, -2.75, 4.5, 1, -8.5, 4.75, 1, -0.5, 4.5, 1, -1.75, 4, 1, -1.5, 3.75, 1, -0.5, -2.25, 1, 6.25, -3.25, 1, 6.5, -3.25, 1, 14.5, 3.75, 1, -0.5, 2.25, 1, -0.5, 1.25, 1, 1.25, 4.75, 1, -0.5, 3.75, 1, -0.5, 1.25, 1, 1.25, 1, 1, 3, -2.25, 1, 3, -2.25, 1, 6.25, 4.75, 1, -0.5, 1.25, 1, 1.25, 1, 1, 3, 6.25, 1, -0.5, 6.25, 1, -0.5, 1, 1, 3, -2.25, 1, 6.25, -3.25, 1, 14.5, 14.5, 1, 14.5, 14.5, 1, -0.25, -3.75, 5, 2.25, 0, 5, 2, -3.25, 5, 1.5, -7, 5, 1.75, -4.5, 1, 6.25, -4.5, 1, 3, -7.75, 1, 3, -7.75, 1, 3, -8, 1, 2, -14.5, 1, 2, -3.25, 1, 14.5, -3.25, 1, 6.5, -4.5, 1, 6.25, -4.5, 1, 6.25, -7.75, 1, 3, -14.5, 1, 2, -14.5, 1, 14.5, -3.25, 1, 14.5)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 9), PackedInt32Array(12, 11, 10), PackedInt32Array(14, 13, 15), PackedInt32Array(15, 13, 16), PackedInt32Array(18, 17, 19), PackedInt32Array(19, 17, 21), PackedInt32Array(19, 21, 20), PackedInt32Array(23, 22, 24), PackedInt32Array(24, 22, 25), PackedInt32Array(28, 27, 26), PackedInt32Array(30, 29, 31), PackedInt32Array(31, 29, 32), PackedInt32Array(36, 35, 33), PackedInt32Array(33, 35, 34), PackedInt32Array(38, 37, 39), PackedInt32Array(39, 37, 40), PackedInt32Array(43, 42, 41), PackedInt32Array(45, 44, 46), PackedInt32Array(46, 44, 47), PackedInt32Array(49, 48, 50), PackedInt32Array(50, 48, 53), PackedInt32Array(50, 53, 51), PackedInt32Array(51, 53, 52), PackedInt32Array(55, 54, 56), PackedInt32Array(56, 54, 57), PackedInt32Array(60, 59, 58), PackedInt32Array(62, 61, 63), PackedInt32Array(63, 61, 64), PackedInt32Array(66, 65, 67), PackedInt32Array(67, 65, 68), PackedInt32Array(70, 69, 71), PackedInt32Array(71, 69, 72), PackedInt32Array(72, 69, 73), PackedInt32Array(73, 69, 74), PackedInt32Array(78, 77, 75), PackedInt32Array(75, 77, 76), PackedInt32Array(79, 81, 80), PackedInt32Array(83, 82, 84), PackedInt32Array(84, 82, 85), PackedInt32Array(87, 86, 88), PackedInt32Array(88, 86, 89), PackedInt32Array(89, 86, 90), PackedInt32Array(90, 86, 91), PackedInt32Array(94, 93, 95), PackedInt32Array(95, 93, 92), PackedInt32Array(96, 98, 97), PackedInt32Array(99, 101, 100), PackedInt32Array(104, 103, 102), PackedInt32Array(107, 106, 105), PackedInt32Array(108, 111, 109), PackedInt32Array(109, 111, 110), PackedInt32Array(113, 112, 114), PackedInt32Array(114, 112, 115), PackedInt32Array(115, 112, 117), PackedInt32Array(115, 117, 116), PackedInt32Array(121, 120, 118), PackedInt32Array(118, 120, 119), PackedInt32Array(124, 123, 122), PackedInt32Array(127, 126, 125), PackedInt32Array(130, 129, 128), PackedInt32Array(132, 131, 133), PackedInt32Array(133, 131, 135), PackedInt32Array(133, 135, 134)]
agent_height = 1.8

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_d8xwj"]
albedo_texture = ExtResource("2_wn420")
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_oq3vd"]
albedo_texture = ExtResource("4_mlklw")
uv1_triplanar = true

[node name="demolevel" type="Node3D"]
script = ExtResource("1_8ijdj")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.843954, -0.0693566, 0.531913, -0.302068, 0.757989, 0.578108, -0.443279, -0.64857, 0.618757, 0, 2.58894, 4.37906)
light_angular_distance = 1.0
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_hrqk3")

[node name="player" parent="." instance=ExtResource("1_tkhkh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.86484, 1.29739, 4.33679)

[node name="simulated" type="Node3D" parent="."]

[node name="cube" parent="simulated" instance=ExtResource("3_eo1n3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.40071, 3.23504, -3.41817)

[node name="cube2" parent="simulated" instance=ExtResource("3_eo1n3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.37187, 3.23504, -4.10598)

[node name="cube3" parent="simulated" instance=ExtResource("3_eo1n3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.68663, 3.83891, -4.11389)

[node name="cube4" parent="simulated" instance=ExtResource("3_eo1n3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.62633, 3.83891, -3.36532)

[node name="cube5" parent="simulated" instance=ExtResource("3_eo1n3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.30077, 4.37783, -3.4828)

[node name="cube6" parent="simulated" instance=ExtResource("3_eo1n3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.70695, 4.37783, -4.05371)

[node name="cube7" parent="simulated" instance=ExtResource("3_eo1n3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.67835, 4.37783, -3.35477)

[node name="cube8" parent="simulated" instance=ExtResource("3_eo1n3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.37484, 4.37783, -4.04599)

[node name="entities" type="Node3D" parent="."]

[node name="npc_enemy3" parent="entities" instance=ExtResource("4_ybswb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.67156, 0.5, -3.5518)

[node name="npc_enemy2" parent="entities" instance=ExtResource("4_ybswb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.24296, 0.5, 4.4065)

[node name="npc_enemy" parent="entities" instance=ExtResource("4_ybswb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)

[node name="AreaDetection" parent="entities" instance=ExtResource("5_fvnkl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.53788, -4.08371)

[node name="grenade" parent="entities" instance=ExtResource("8_ml6o5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.07838, 1.97343, -8.40992)

[node name="grenade2" parent="entities" instance=ExtResource("8_ml6o5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.43425, 1.97343, -8.46272)

[node name="grenade3" parent="entities" instance=ExtResource("8_ml6o5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.2748, 1.97343, -8.61491)

[node name="grenade4" parent="entities" instance=ExtResource("8_ml6o5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.996321, 1.97343, -8.78904)

[node name="grenade5" parent="entities" instance=ExtResource("8_ml6o5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.68108, 1.97343, -8.76035)

[node name="grenade6" parent="entities" instance=ExtResource("8_ml6o5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.08368, 1.97343, -8.47221)

[node name="grenade7" parent="entities" instance=ExtResource("8_ml6o5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.8472, 1.97343, -8.55301)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_co0ng")
enabled = false

[node name="geo" type="Node3D" parent="NavigationRegion3D"]

[node name="floorcsg" type="CSGBox3D" parent="NavigationRegion3D/geo"]
use_collision = true
size = Vector3(30, 1, 30)
material = SubResource("StandardMaterial3D_d8xwj")

[node name="CSGBox3D2" type="CSGBox3D" parent="NavigationRegion3D/geo"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.9646, 2, -1.62685)
use_collision = true
size = Vector3(1, 3, 1)

[node name="CSGBox3D5" type="CSGBox3D" parent="NavigationRegion3D/geo"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.0354, 2, -4.62685)
use_collision = true
size = Vector3(1, 3, 1)

[node name="CSGBox3D6" type="CSGBox3D" parent="NavigationRegion3D/geo"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.5354, 1, -9.62685)
use_collision = true
size = Vector3(4, 1, 3)

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D/geo"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.5, 2.5, 1.79059)
use_collision = true
size = Vector3(8, 4, 1)

[node name="CSGBox3D4" type="CSGBox3D" parent="NavigationRegion3D/geo"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -3.5, 2.5, 1.79059)
use_collision = true
size = Vector3(8, 4, 1)

[node name="CSGBox3D3" type="CSGBox3D" parent="NavigationRegion3D/geo"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 5.5, 2.5, -5.20941)
use_collision = true
size = Vector3(8, 4, 1)
material = SubResource("StandardMaterial3D_oq3vd")

[connection signal="body_entered" from="entities/AreaDetection" to="." method="_on_area_detection_body_entered"]
