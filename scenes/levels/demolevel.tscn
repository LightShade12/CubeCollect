[gd_scene load_steps=37 format=3 uid="uid://rhbqthiinyyd"]

[ext_resource type="Script" path="res://scenes/levels/demolevel.gd" id="1_8ijdj"]
[ext_resource type="PackedScene" uid="uid://b0eawcama2r08" path="res://source/class/level.tscn" id="1_44vl2"]
[ext_resource type="PackedScene" uid="uid://blxboep0qk3au" path="res://source/entity/player.tscn" id="2_5xhdw"]
[ext_resource type="PackedScene" uid="uid://dcftaala3gn8l" path="res://source/entity/cube.tscn" id="3_eo1n3"]
[ext_resource type="PackedScene" uid="uid://72l8h1dx78hv" path="res://source/entity/grenade_stash.tscn" id="6_jul6r"]
[ext_resource type="Material" uid="uid://3u37s52qfsun" path="res://assets/materials/maps/demolevel/demolevelUVfloorMat.tres" id="8_jadq6"]
[ext_resource type="PackedScene" uid="uid://ck3whm0a2psc8" path="res://source/entity/grenade.tscn" id="8_ml6o5"]
[ext_resource type="Texture2D" uid="uid://dmfcxjl37qkkf" path="res://assets/textures/dev/1K cyan_aquamarine.png" id="9_gvc0o"]
[ext_resource type="AudioStream" uid="uid://gx33i2d1lr85" path="res://assets/sounds/maps/ambient/snow winds.mp3" id="9_y12aj"]
[ext_resource type="Texture2D" uid="uid://bdp17ylr5o14n" path="res://assets/textures/dev/1K RYGB.png" id="10_x27oe"]
[ext_resource type="Texture2D" uid="uid://cy104gvmkm3db" path="res://assets/textures/dev/1K_vlcn_orange.png" id="11_qdw2x"]
[ext_resource type="AudioStream" uid="uid://di0v0g1jvax15" path="res://assets/sounds/maps/detail/Airplane Flying Over in the Distance (Sound Effects) [TubeRipper.com].mp3" id="11_tb5sx"]
[ext_resource type="AudioStream" uid="uid://sjshldobuydr" path="res://assets/sounds/maps/detail/Crow sfx.mp3" id="12_v4snk"]
[ext_resource type="AudioStream" uid="uid://c5nhytb0rbgas" path="res://assets/sounds/maps/detail/Crow Sound Effect [TubeRipper.com].mp3" id="13_m76th"]
[ext_resource type="AudioStream" uid="uid://d2gp0uwojqd3e" path="res://assets/sounds/maps/detail/crownearby.mp3" id="14_ttvlp"]
[ext_resource type="PackedScene" uid="uid://1jgud4kyb1jr" path="res://source/entity/extraction_area.tscn" id="17_f4srf"]
[ext_resource type="LightmapGIData" uid="uid://bfvd82de48x7u" path="res://scenes/levels/demolevel.lmbake" id="18_e6rtr"]
[ext_resource type="PackedScene" uid="uid://k7h7wesuyrfa" path="res://source/entity/grenade_particle_system.tscn" id="18_f8een"]

[sub_resource type="PhysicalSkyMaterial" id="PhysicalSkyMaterial_yay20"]
energy_multiplier = 2.0

[sub_resource type="Sky" id="Sky_6xbqk"]
sky_material = SubResource("PhysicalSkyMaterial_yay20")

[sub_resource type="Environment" id="Environment_hrqk3"]
background_mode = 2
sky = SubResource("Sky_6xbqk")
tonemap_mode = 2
tonemap_exposure = 1.5
tonemap_white = 6.0
sdfgi_cascades = 5
sdfgi_min_cell_size = 0.03125
sdfgi_cascade0_distance = 2.0
sdfgi_max_distance = 64.0
sdfgi_y_scale = 0
glow_enabled = true
glow_levels/1 = 1.0
glow_levels/2 = 1.0
glow_levels/4 = 1.0
glow_blend_mode = 1
glow_hdr_threshold = 4.0

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_1w3ho"]
streams_count = 4
stream_0/stream = ExtResource("11_tb5sx")
stream_0/weight = 1.0
stream_1/stream = ExtResource("12_v4snk")
stream_1/weight = 1.0
stream_2/stream = ExtResource("13_m76th")
stream_2/weight = 1.0
stream_3/stream = ExtResource("14_ttvlp")
stream_3/weight = 1.0

[sub_resource type="BoxMesh" id="BoxMesh_ekv48"]
lightmap_size_hint = Vector2i(304, 166)
material = ExtResource("8_jadq6")
add_uv2 = true
size = Vector3(30, 1, 30)

[sub_resource type="BoxShape3D" id="BoxShape3D_2hphy"]
size = Vector3(30, 1, 30)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_1brvr"]
albedo_texture = ExtResource("9_gvc0o")
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_f7163"]
lightmap_size_hint = Vector2i(49, 86)
material = SubResource("StandardMaterial3D_1brvr")
add_uv2 = true
size = Vector3(8, 4, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_n87oi"]
size = Vector3(8, 4, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_btvxf"]
albedo_texture = ExtResource("10_x27oe")
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_7md4q"]
lightmap_size_hint = Vector2i(14, 41)
material = SubResource("StandardMaterial3D_btvxf")
add_uv2 = true
size = Vector3(1, 3, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_wty26"]
size = Vector3(1, 3, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_6hjd4"]
size = Vector3(4, 1, 3)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2h3ml"]
albedo_texture = ExtResource("11_qdw2x")
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_mhelc"]
lightmap_size_hint = Vector2i(39, 36)
material = SubResource("StandardMaterial3D_2h3ml")
add_uv2 = true
size = Vector3(4, 1, 3)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0waas"]
metallic = 1.0
roughness = 0.0

[sub_resource type="PlaneMesh" id="PlaneMesh_j6xbd"]
size = Vector2(2, 3)

[sub_resource type="CameraAttributesPhysical" id="CameraAttributesPhysical_swbsg"]
frustum_focal_length = 15.75

[node name="demolevel" instance=ExtResource("1_44vl2")]
script = ExtResource("1_8ijdj")

[node name="WorldEnvironment" parent="." index="0"]
environment = SubResource("Environment_hrqk3")

[node name="DirectionalLight3D" parent="." index="1"]
transform = Transform3D(0.843954, -0.0693561, 0.531913, -0.302068, 0.757989, 0.578108, -0.443279, -0.64857, 0.618757, 0, 0, 0)
light_energy = 1.0

[node name="AmbientAudioPlayer" parent="." index="2"]
stream = ExtResource("9_y12aj")
volume_db = -30.0
autoplay = true

[node name="DetailStreamPlayer" parent="." index="3"]
stream = SubResource("AudioStreamRandomizer_1w3ho")

[node name="floor" type="StaticBody3D" parent="NavigationRegion3D/geo" index="0"]

[node name="floormesh" type="MeshInstance3D" parent="NavigationRegion3D/geo/floor" index="0"]
gi_lightmap_scale = 3
mesh = SubResource("BoxMesh_ekv48")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/geo/floor" index="1"]
shape = SubResource("BoxShape3D_2hphy")

[node name="wall1" type="StaticBody3D" parent="NavigationRegion3D/geo" index="1"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 5.5, 2.5, -5.20941)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/geo/wall1" index="0"]
gi_lightmap_scale = 3
mesh = SubResource("BoxMesh_f7163")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/geo/wall1" index="1"]
shape = SubResource("BoxShape3D_n87oi")

[node name="wall2" type="StaticBody3D" parent="NavigationRegion3D/geo" index="2"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -3.5, 2.5, 1.79059)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/geo/wall2" index="0"]
gi_lightmap_scale = 3
mesh = SubResource("BoxMesh_f7163")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/geo/wall2" index="1"]
shape = SubResource("BoxShape3D_n87oi")

[node name="wall3" type="StaticBody3D" parent="NavigationRegion3D/geo" index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.5, 2.5, 1.79059)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/geo/wall3" index="0"]
gi_lightmap_scale = 3
mesh = SubResource("BoxMesh_f7163")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/geo/wall3" index="1"]
shape = SubResource("BoxShape3D_n87oi")

[node name="pillar" type="StaticBody3D" parent="NavigationRegion3D/geo" index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.0354, 2, -4.62685)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/geo/pillar" index="0"]
gi_lightmap_scale = 3
mesh = SubResource("BoxMesh_7md4q")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/geo/pillar" index="1"]
shape = SubResource("BoxShape3D_wty26")

[node name="pillar2" type="StaticBody3D" parent="NavigationRegion3D/geo" index="5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.9646, 2, -1.62685)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/geo/pillar2" index="0"]
gi_lightmap_scale = 3
mesh = SubResource("BoxMesh_7md4q")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/geo/pillar2" index="1"]
shape = SubResource("BoxShape3D_wty26")

[node name="platform" type="StaticBody3D" parent="NavigationRegion3D/geo" index="6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.5354, 1, -9.62685)

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/geo/platform" index="0"]
shape = SubResource("BoxShape3D_6hjd4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/geo/platform" index="1"]
gi_lightmap_scale = 3
mesh = SubResource("BoxMesh_mhelc")

[node name="simulated" type="Node3D" parent="." index="5"]

[node name="cube" parent="simulated" index="0" instance=ExtResource("3_eo1n3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.40071, 3.23504, -3.41817)

[node name="cube2" parent="simulated" index="1" instance=ExtResource("3_eo1n3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.37187, 3.23504, -4.10598)

[node name="cube3" parent="simulated" index="2" instance=ExtResource("3_eo1n3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.68663, 3.83891, -4.11389)

[node name="cube4" parent="simulated" index="3" instance=ExtResource("3_eo1n3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.62633, 3.83891, -3.36532)

[node name="cube5" parent="simulated" index="4" instance=ExtResource("3_eo1n3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.30077, 4.37783, -3.4828)

[node name="cube6" parent="simulated" index="5" instance=ExtResource("3_eo1n3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.70695, 4.37783, -4.05371)

[node name="cube7" parent="simulated" index="6" instance=ExtResource("3_eo1n3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.67835, 4.37783, -3.35477)

[node name="cube8" parent="simulated" index="7" instance=ExtResource("3_eo1n3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.37484, 4.37783, -4.04599)

[node name="entities" type="Node3D" parent="." index="6"]

[node name="grenade_stash" parent="entities" index="0" instance=ExtResource("6_jul6r")]
transform = Transform3D(0.5, 0, -0.866025, 0, 1, 0, 0.866025, 0, 0.5, 0.72247, 0.5008, -8.8345)

[node name="grenade" parent="entities" index="1" instance=ExtResource("8_ml6o5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.03405, 2.0412, -8.47526)

[node name="player" parent="entities" index="2" instance=ExtResource("2_5xhdw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.77259, 2.59966, 2.36671)

[node name="grenadeParticleSystem" parent="entities" index="3" instance=ExtResource("18_f8een")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.690992, 0.820904, -1.54296)
visible = false

[node name="extraction_area" parent="entities" index="4" instance=ExtResource("17_f4srf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.315926, 0.540797, -5.57063)

[node name="LightmapGI" type="LightmapGI" parent="." index="7"]
bounces = 6
light_data = ExtResource("18_e6rtr")

[node name="ReflectionProbe" type="ReflectionProbe" parent="." index="8"]
transform = Transform3D(-1, 8.74228e-08, 0, 3.82137e-15, 4.37114e-08, -1, -8.74228e-08, -1, -4.37114e-08, -0.0179465, 2.78819, -0.11459)
update_mode = 1
size = Vector3(25, 25, 10)
origin_offset = Vector3(1.669, -1.511, 1.128)
box_projection = true
enable_shadows = true

[node name="mirror" type="MeshInstance3D" parent="." index="9"]
transform = Transform3D(-1, 8.74228e-08, 0, 3.82137e-15, 4.37114e-08, -1, -8.74228e-08, -1, -4.37114e-08, -1.3429, 2.27219, 1.20291)
material_override = SubResource("StandardMaterial3D_0waas")
mesh = SubResource("PlaneMesh_j6xbd")

[node name="screencapCam" type="Camera3D" parent="." index="10"]
transform = Transform3D(-0.960294, 0, -0.278991, 0, 1, 0, 0.278991, 0, -0.960294, 0, 2.22647, -11.1366)
attributes = SubResource("CameraAttributesPhysical_swbsg")

[connection signal="body_entered" from="entities/extraction_area" to="." method="_on_extraction_area_body_entered"]
[connection signal="body_exited" from="entities/extraction_area" to="." method="_on_extraction_area_body_exited"]
