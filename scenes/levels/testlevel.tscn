[gd_scene load_steps=21 format=3 uid="uid://bo4dcv0w78veg"]

[ext_resource type="PackedScene" uid="uid://b0eawcama2r08" path="res://source/class/level.tscn" id="1_i6ns8"]
[ext_resource type="Script" path="res://scenes/levels/testlevel.gd" id="1_tstgm"]
[ext_resource type="Material" uid="uid://3u37s52qfsun" path="res://assets/materials/maps/demolevel/demolevelUVfloorMat.tres" id="2_armk6"]
[ext_resource type="PackedScene" uid="uid://blxboep0qk3au" path="res://source/entity/player.tscn" id="3_256h8"]
[ext_resource type="PackedScene" uid="uid://dcftaala3gn8l" path="res://source/entity/cube.tscn" id="4_lurub"]
[ext_resource type="PackedScene" uid="uid://11aliu7ryeba" path="res://source/entity/cube_burner.tscn" id="5_dwwar"]
[ext_resource type="PackedScene" uid="uid://72l8h1dx78hv" path="res://source/entity/grenade_stash.tscn" id="6_rfgp7"]
[ext_resource type="PackedScene" uid="uid://ds0bnjacoj05w" path="res://source/entity/npc/npc_spawner.tscn" id="8_qteas"]
[ext_resource type="Texture2D" uid="uid://dm65ihwum8hym" path="res://assets/textures/entities/ui/markerblue.png" id="9_511m2"]
[ext_resource type="LightmapGIData" uid="uid://vai6v87o7oxf" path="res://scenes/levels/testlevel.lmbake" id="9_qnq7c"]
[ext_resource type="PackedScene" uid="uid://1jgud4kyb1jr" path="res://source/entity/extraction_area.tscn" id="10_uabhi"]

[sub_resource type="PhysicalSkyMaterial" id="PhysicalSkyMaterial_2jspe"]
energy_multiplier = 2.0

[sub_resource type="Sky" id="Sky_k1e3o"]
sky_material = SubResource("PhysicalSkyMaterial_2jspe")

[sub_resource type="Environment" id="Environment_pyumv"]
background_mode = 2
sky = SubResource("Sky_k1e3o")
tonemap_mode = 2
tonemap_exposure = 1.5
tonemap_white = 6.0
sdfgi_read_sky_light = false
sdfgi_min_cell_size = 0.0507813
sdfgi_cascade0_distance = 3.25
sdfgi_max_distance = 52.0
glow_enabled = true
glow_levels/1 = 1.0
glow_levels/2 = 1.0
glow_levels/4 = 1.0

[sub_resource type="NavigationMesh" id="NavigationMesh_i1m4y"]
vertices = PackedVector3Array(4.75, 1, -14.75, 6, 1, -15, 6, 1, -24.5, 5, 1, 1.25, 5.25, 1, -13, 4.75, 1, -13.25, -5.25, 1, 1.25, -5.25, 1, 1.25, 4.75, 1, -14.75, 6, 1, -24.5, -24.5, 1, -24.5, -24.5, 1, 2.25, -5.25, 1, 1.25, 4.75, 1, -13.25, 4.75, 1, -14.75, -24.5, 1, 2.25, -5.5, 1, 2.25, -5.25, 1, 1.25, 6, 1, -24.5, 6, 1, -15, 7, 1, -15, 6, 1, -24.5, 7, 1, -15, 7.5, 1, -14, 24.5, 1, -14, 24.5, 1, -24.5, 7, 1, -13, 5.25, 1, -13, 5, 1, 1.25, 5.75, 1, 1.5, 7, 1, -13, 5.75, 1, 1.5, 5.75, 1, 2.5, 24.5, 1, 2.5, 24.5, 1, -14, 7.5, 1, -14, -5.25, 1, 3.5, -5.5, 1, 2.25, -24.5, 1, 2.25, -24.5, 1, 24.5, -3.25, 1, 24.5, -3.25, 1, 24.5, -3.25, 1, 3.5, -5.25, 1, 3.5, 24.5, 1, 2.5, 5.75, 1, 2.5, 5.5, 1, 3.5, 3.5, 1, 24.5, 24.5, 1, 24.5, 5.5, 1, 3.5, 3.5, 1, 3.5, 3.5, 1, 24.5, -3.25, 1, 24.5, 3.5, 1, 24.5, 3.5, 1, 3.5, -3.25, 1, 3.5)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(4, 3, 5), PackedInt32Array(5, 3, 6), PackedInt32Array(8, 7, 9), PackedInt32Array(9, 7, 11), PackedInt32Array(9, 11, 10), PackedInt32Array(14, 13, 12), PackedInt32Array(17, 16, 15), PackedInt32Array(20, 19, 18), PackedInt32Array(22, 21, 23), PackedInt32Array(23, 21, 24), PackedInt32Array(24, 21, 25), PackedInt32Array(28, 27, 29), PackedInt32Array(29, 27, 26), PackedInt32Array(31, 30, 32), PackedInt32Array(32, 30, 35), PackedInt32Array(32, 35, 34), PackedInt32Array(32, 34, 33), PackedInt32Array(37, 36, 38), PackedInt32Array(38, 36, 39), PackedInt32Array(39, 36, 40), PackedInt32Array(43, 42, 41), PackedInt32Array(45, 44, 46), PackedInt32Array(46, 44, 48), PackedInt32Array(46, 48, 47), PackedInt32Array(51, 50, 49), PackedInt32Array(55, 54, 52), PackedInt32Array(52, 54, 53)]
agent_height = 1.8
agent_radius = 0.3

[sub_resource type="BoxMesh" id="BoxMesh_8y3wm"]
lightmap_size_hint = Vector2i(504, 266)
material = ExtResource("2_armk6")
add_uv2 = true
size = Vector3(50, 1, 50)

[sub_resource type="BoxShape3D" id="BoxShape3D_cdo3o"]
size = Vector3(50, 1, 50)

[sub_resource type="BoxShape3D" id="BoxShape3D_f44pw"]
size = Vector3(10, 3, 1)

[sub_resource type="BoxMesh" id="BoxMesh_uene2"]
lightmap_size_hint = Vector2i(59, 86)
material = ExtResource("2_armk6")
add_uv2 = true
size = Vector3(10, 3, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tcor0"]
transparency = 1
albedo_texture = ExtResource("9_511m2")
emission_enabled = true
emission_energy_multiplier = 5.0
emission_texture = ExtResource("9_511m2")
billboard_mode = 2

[node name="testlevel" instance=ExtResource("1_i6ns8")]
script = ExtResource("1_tstgm")

[node name="WorldEnvironment" parent="." index="0"]
environment = SubResource("Environment_pyumv")

[node name="DirectionalLight3D" parent="." index="1"]
transform = Transform3D(0.951836, -0.0810432, 0.295704, -0.0661402, 0.887456, 0.456122, -0.29939, -0.453711, 0.839352, 0, 0, 0)
light_energy = 1.0

[node name="NavigationRegion3D" parent="." index="4"]
navigation_mesh = SubResource("NavigationMesh_i1m4y")

[node name="grenade_stash" parent="NavigationRegion3D" index="0" instance=ExtResource("6_rfgp7")]
transform = Transform3D(0, 0, -1, 0, 1, 0, 1, 0, 0, 5.97178, 0.5008, -13.8169)

[node name="floor" type="StaticBody3D" parent="NavigationRegion3D/geo" index="0"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/geo/floor" index="0"]
mesh = SubResource("BoxMesh_8y3wm")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/geo/floor" index="1"]
shape = SubResource("BoxShape3D_cdo3o")

[node name="wall" type="StaticBody3D" parent="NavigationRegion3D/geo" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 2.43853)

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/geo/wall" index="0"]
shape = SubResource("BoxShape3D_f44pw")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/geo/wall" index="1"]
mesh = SubResource("BoxMesh_uene2")
skeleton = NodePath("../CollisionShape3D")

[node name="simulated" type="Node3D" parent="." index="5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.52135, 1.30027, -13.7371)

[node name="cube" parent="simulated" index="0" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.04448, 0, -6.87788)

[node name="cube9" parent="simulated" index="1" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.04448, 0, -6.11143)

[node name="cube2" parent="simulated" index="2" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0888891, 0, -7.88338)

[node name="cube8" parent="simulated" index="3" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.42676, 0, -7.88338)

[node name="cube3" parent="simulated" index="4" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.08924, 0, -7.88338)

[node name="cube7" parent="simulated" index="5" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.02007, 0, -7.88338)

[node name="cube4" parent="simulated" index="6" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.04448, 0, -8.64087)

[node name="cube5" parent="simulated" index="7" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.04448, 0, -7.88338)

[node name="cube6" parent="simulated" index="8" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.04448, 0, -9.74232)

[node name="cube28" parent="simulated" index="9" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.79989, 0.662043, -7.25947)

[node name="cube29" parent="simulated" index="10" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.25842, 0.662043, -6.72764)

[node name="cube30" parent="simulated" index="11" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.25842, 0.662043, -7.25776)

[node name="cube31" parent="simulated" index="12" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.79989, 0.662043, -6.72419)

[node name="cube32" parent="simulated" index="13" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.79989, 1.22542, -7.25947)

[node name="cube33" parent="simulated" index="14" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.25842, 1.22542, -6.72764)

[node name="cube34" parent="simulated" index="15" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.25842, 1.22542, -7.25776)

[node name="cube35" parent="simulated" index="16" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.79989, 1.22542, -6.72419)

[node name="cube36" parent="simulated" index="17" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.79989, 1.78512, -7.25947)

[node name="cube37" parent="simulated" index="18" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.25842, 1.78512, -6.72764)

[node name="cube38" parent="simulated" index="19" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.25842, 1.78512, -7.25776)

[node name="cube39" parent="simulated" index="20" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.79989, 1.78512, -6.72419)

[node name="cube40" parent="simulated" index="21" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.79989, 2.34312, -7.25947)

[node name="cube41" parent="simulated" index="22" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.25842, 2.34312, -6.72764)

[node name="cube42" parent="simulated" index="23" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.25842, 2.34312, -7.25776)

[node name="cube43" parent="simulated" index="24" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.79989, 2.34312, -6.72419)

[node name="cube10" parent="simulated" index="25" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.4102, 0, -6.0481)

[node name="cube11" parent="simulated" index="26" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.4102, 0, -5.28165)

[node name="cube12" parent="simulated" index="27" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.2768, 0, -7.0536)

[node name="cube13" parent="simulated" index="28" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.9389, 0, -7.0536)

[node name="cube14" parent="simulated" index="29" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.4549, 0, -7.0536)

[node name="cube15" parent="simulated" index="30" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.3857, 0, -7.0536)

[node name="cube16" parent="simulated" index="31" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.4102, 0, -7.81109)

[node name="cube17" parent="simulated" index="32" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.4102, 0, -7.0536)

[node name="cube18" parent="simulated" index="33" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.4102, 0, -8.91255)

[node name="cube19" parent="simulated" index="34" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.48721, 0, -5.86692)

[node name="cube20" parent="simulated" index="35" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.48721, 0, -5.10046)

[node name="cube21" parent="simulated" index="36" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.62061, 0, -6.87242)

[node name="cube22" parent="simulated" index="37" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.95851, 0, -6.87242)

[node name="cube23" parent="simulated" index="38" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.44247, 0, -6.87242)

[node name="cube24" parent="simulated" index="39" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.51164, 0, -6.87242)

[node name="cube25" parent="simulated" index="40" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.48721, 0, -7.6299)

[node name="cube26" parent="simulated" index="41" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.48721, 0, -6.87242)

[node name="cube27" parent="simulated" index="42" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.48721, 0, -8.73136)

[node name="entities" type="Node3D" parent="." index="6"]

[node name="cube_burner" parent="entities" index="0" instance=ExtResource("5_dwwar")]
transform = Transform3D(1, 0, -1.74846e-07, 0, 1, 0, 1.74846e-07, 0, 1, -0.142403, 0.512954, 6.26888)

[node name="extraction_area" parent="entities" index="1" instance=ExtResource("10_uabhi")]
transform = Transform3D(1, 0, -1.74846e-07, 0, 1, 0, 1.74846e-07, 0, 1, -2.50768, 0.506817, -14.3671)

[node name="player" parent="entities" index="2" instance=ExtResource("3_256h8")]
transform = Transform3D(-0.5, 0, 0.866025, 0, 1, 0, -0.866025, 0, -0.5, -1.09023, 1.12432, -14.2775)

[node name="npc_spawner" parent="entities" index="3" instance=ExtResource("8_qteas")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.02678, 2.06063, 15.3791)
total_enemy_count = 10

[node name="origin" type="Sprite3D" parent="entities" index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0)
material_override = SubResource("StandardMaterial3D_tcor0")
pixel_size = 0.001
billboard = 2
no_depth_test = true
texture = ExtResource("9_511m2")

[node name="LightmapGI" type="LightmapGI" parent="." index="7"]
quality = 2
bounces = 6
light_data = ExtResource("9_qnq7c")

[node name="screencapCam" type="Camera3D" parent="." index="8"]
transform = Transform3D(-0.958706, 0, 0.2844, 0, 1, 0, -0.2844, 0, -0.958706, 3.883, 1.891, -6.96)

[connection signal="body_entered" from="entities/extraction_area" to="." method="_on_extraction_area_body_entered"]
[connection signal="body_exited" from="entities/extraction_area" to="." method="_on_extraction_area_body_exited"]
