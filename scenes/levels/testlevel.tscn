[gd_scene load_steps=21 format=3 uid="uid://bo4dcv0w78veg"]

[ext_resource type="PackedScene" uid="uid://b0eawcama2r08" path="res://source/class/level.tscn" id="1_i6ns8"]
[ext_resource type="Script" path="res://scenes/levels/testlevel.gd" id="1_tstgm"]
[ext_resource type="Material" uid="uid://3u37s52qfsun" path="res://assets/materials/maps/demolevel/demolevelUVfloorMat.tres" id="2_armk6"]
[ext_resource type="PackedScene" uid="uid://blxboep0qk3au" path="res://source/entity/player.tscn" id="3_256h8"]
[ext_resource type="PackedScene" uid="uid://dcftaala3gn8l" path="res://source/entity/cube.tscn" id="4_lurub"]
[ext_resource type="PackedScene" uid="uid://11aliu7ryeba" path="res://source/entity/cube_burner.tscn" id="5_dwwar"]
[ext_resource type="PackedScene" uid="uid://72l8h1dx78hv" path="res://source/entity/grenade_stash.tscn" id="6_rfgp7"]
[ext_resource type="PackedScene" uid="uid://ds0bnjacoj05w" path="res://source/entity/npc/npc_spawner.tscn" id="8_qteas"]
[ext_resource type="Texture2D" uid="uid://dm65ihwum8hym" path="res://assets/textures/entities/ui/markerblue.png" id="9_511m2"]
[ext_resource type="LightmapGIData" uid="uid://vai6v87o7oxf" path="res://scenes/levels/testlevel.lmbake" id="9_qnq7c"]
[ext_resource type="PackedScene" uid="uid://1jgud4kyb1jr" path="res://source/entity/extraction_area.tscn" id="10_uabhi"]

[sub_resource type="PhysicalSkyMaterial" id="PhysicalSkyMaterial_2jspe"]
energy_multiplier = 2.0

[sub_resource type="Sky" id="Sky_k1e3o"]
sky_material = SubResource("PhysicalSkyMaterial_2jspe")

[sub_resource type="Environment" id="Environment_pyumv"]
background_mode = 2
sky = SubResource("Sky_k1e3o")
tonemap_mode = 2
tonemap_exposure = 1.5
tonemap_white = 6.0
sdfgi_read_sky_light = false
sdfgi_min_cell_size = 0.0507813
sdfgi_cascade0_distance = 3.25
sdfgi_max_distance = 52.0
glow_enabled = true
glow_levels/1 = 1.0
glow_levels/2 = 1.0
glow_levels/4 = 1.0

[sub_resource type="NavigationMesh" id="NavigationMesh_i1m4y"]
vertices = PackedVector3Array(-24.5, 1, 2.25, -3, 1, 2.25, -2.75, 1, 1.25, -1.5, 1, -24.5, -24.5, 1, -24.5, -2.75, 1, 1.25, -1.25, 1, 1.25, -1.5, 1, -24.5, -1.25, 1, 1.25, 1.5, 1, 1.25, 1.75, 1, -24.5, -1.5, 1, -24.5, 3, 1, 1.25, 3.25, 1, 2.25, 24.5, 1, 2.25, 24.5, 1, -24.5, 1.75, 1, -24.5, 1.75, 1, -24.5, 1.5, 1, 1.25, 3, 1, 1.25, -0.75, 1, 24.5, -0.75, 1, 3.5, -2.75, 1, 3.5, -2.75, 1, 3.5, -3, 1, 2.25, -24.5, 1, 2.25, -24.5, 1, 24.5, -0.75, 1, 24.5, 3, 1, 3.5, 1, 1, 3.5, 1, 1, 24.5, 24.5, 1, 2.25, 3.25, 1, 2.25, 3, 1, 3.5, 1, 1, 24.5, 24.5, 1, 24.5, -0.75, 1, 24.5, 1, 1, 24.5, 1, 1, 3.5, -0.75, 1, 3.5)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 4), PackedInt32Array(2, 4, 3), PackedInt32Array(7, 6, 5), PackedInt32Array(8, 11, 9), PackedInt32Array(9, 11, 10), PackedInt32Array(13, 12, 14), PackedInt32Array(14, 12, 15), PackedInt32Array(15, 12, 16), PackedInt32Array(19, 18, 17), PackedInt32Array(22, 21, 20), PackedInt32Array(24, 23, 25), PackedInt32Array(25, 23, 26), PackedInt32Array(26, 23, 27), PackedInt32Array(30, 29, 28), PackedInt32Array(32, 31, 33), PackedInt32Array(33, 31, 35), PackedInt32Array(33, 35, 34), PackedInt32Array(39, 38, 36), PackedInt32Array(36, 38, 37)]
agent_height = 1.8
agent_radius = 0.3

[sub_resource type="BoxMesh" id="BoxMesh_8y3wm"]
lightmap_size_hint = Vector2i(504, 266)
material = ExtResource("2_armk6")
add_uv2 = true
size = Vector3(50, 1, 50)

[sub_resource type="BoxShape3D" id="BoxShape3D_cdo3o"]
size = Vector3(50, 1, 50)

[sub_resource type="BoxShape3D" id="BoxShape3D_f44pw"]
size = Vector3(5, 3, 1)

[sub_resource type="BoxMesh" id="BoxMesh_uene2"]
lightmap_size_hint = Vector2i(34, 61)
material = ExtResource("2_armk6")
add_uv2 = true
size = Vector3(5, 3, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tcor0"]
transparency = 1
albedo_texture = ExtResource("9_511m2")
emission_enabled = true
emission_energy_multiplier = 5.0
emission_texture = ExtResource("9_511m2")
billboard_mode = 2

[node name="testlevel" instance=ExtResource("1_i6ns8")]
script = ExtResource("1_tstgm")

[node name="WorldEnvironment" parent="." index="0"]
environment = SubResource("Environment_pyumv")

[node name="DirectionalLight3D" parent="." index="1"]
transform = Transform3D(0.951836, -0.0810432, 0.295704, -0.0661402, 0.887456, 0.456122, -0.29939, -0.453711, 0.839352, 0, 0, 0)
light_energy = 1.0

[node name="NavigationRegion3D" parent="." index="4"]
navigation_mesh = SubResource("NavigationMesh_i1m4y")

[node name="floor" type="StaticBody3D" parent="NavigationRegion3D/geo" index="0"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/geo/floor" index="0"]
mesh = SubResource("BoxMesh_8y3wm")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/geo/floor" index="1"]
shape = SubResource("BoxShape3D_cdo3o")

[node name="wall" type="StaticBody3D" parent="NavigationRegion3D/geo" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 2.43853)

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/geo/wall" index="0"]
shape = SubResource("BoxShape3D_f44pw")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/geo/wall" index="1"]
mesh = SubResource("BoxMesh_uene2")
skeleton = NodePath("../CollisionShape3D")

[node name="simulated" type="Node3D" parent="." index="5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0441835, 1.30027, -2.87751)

[node name="cube" parent="simulated" index="0" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.0055)

[node name="cube9" parent="simulated" index="1" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.77195)

[node name="cube2" parent="simulated" index="2" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.13337, 0, 0)

[node name="cube8" parent="simulated" index="3" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.47124, 0, 0)

[node name="cube3" parent="simulated" index="4" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.04476, 0, 0)

[node name="cube7" parent="simulated" index="5" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.97559, 0, 0)

[node name="cube4" parent="simulated" index="6" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.757484)

[node name="cube5" parent="simulated" index="7" instance=ExtResource("4_lurub")]

[node name="cube6" parent="simulated" index="8" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.85894)

[node name="cube28" parent="simulated" index="9" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -6.99067, 0.662043, -6.25947)

[node name="cube29" parent="simulated" index="10" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -6.99067, 0.662043, -6.93682)

[node name="cube30" parent="simulated" index="11" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -6.99067, 0.662043, -7.56765)

[node name="cube31" parent="simulated" index="12" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -6.99067, 0.662043, -5.65647)

[node name="cube32" parent="simulated" index="13" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -6.99067, 0.662043, -8.18715)

[node name="cube10" parent="simulated" index="14" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.84455, 0, 0.910825)

[node name="cube11" parent="simulated" index="15" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.84455, 0, 1.67728)

[node name="cube12" parent="simulated" index="16" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.71118, 0, -0.0946751)

[node name="cube13" parent="simulated" index="17" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.37331, 0, -0.0946751)

[node name="cube14" parent="simulated" index="18" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.8893, 0, -0.0946751)

[node name="cube15" parent="simulated" index="19" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.8201, 0, -0.0946751)

[node name="cube16" parent="simulated" index="20" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.84455, 0, -0.852159)

[node name="cube17" parent="simulated" index="21" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.84455, 0, -0.0946751)

[node name="cube18" parent="simulated" index="22" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.84455, 0, -1.95362)

[node name="cube19" parent="simulated" index="23" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.4071, 0, 0.910825)

[node name="cube20" parent="simulated" index="24" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.4071, 0, 1.67728)

[node name="cube21" parent="simulated" index="25" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.5405, 0, -0.0946751)

[node name="cube22" parent="simulated" index="26" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.8784, 0, -0.0946751)

[node name="cube23" parent="simulated" index="27" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.36236, 0, -0.0946751)

[node name="cube24" parent="simulated" index="28" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.43153, 0, -0.0946751)

[node name="cube25" parent="simulated" index="29" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.4071, 0, -0.852159)

[node name="cube26" parent="simulated" index="30" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.4071, 0, -0.0946751)

[node name="cube27" parent="simulated" index="31" instance=ExtResource("4_lurub")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.4071, 0, -1.95362)

[node name="entities" type="Node3D" parent="." index="6"]

[node name="cube_burner" parent="entities" index="0" instance=ExtResource("5_dwwar")]
transform = Transform3D(1, 0, -1.74846e-07, 0, 1, 0, 1.74846e-07, 0, 1, -0.142403, 0.512954, 6.26888)

[node name="extraction_area" parent="entities" index="1" instance=ExtResource("10_uabhi")]
transform = Transform3D(1, 0, -1.74846e-07, 0, 1, 0, 1.74846e-07, 0, 1, 0.0828008, 0.506817, -7.25351)

[node name="player" parent="entities" index="2" instance=ExtResource("3_256h8")]
transform = Transform3D(-0.5, 0, 0.866025, 0, 1, 0, -0.866025, 0, -0.5, 5.395, 1.12432, -6.2795)

[node name="grenade_stash" parent="entities" index="3" instance=ExtResource("6_rfgp7")]
transform = Transform3D(0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, 0.707107, 4.22707, 0.5008, -4.74772)

[node name="npc_spawner" parent="entities" index="4" instance=ExtResource("8_qteas")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.02567, 2.06063, 5.63751)
total_enemy_count = 10
interval_secs = 3
spawn_on_start = true

[node name="origin" type="Sprite3D" parent="entities" index="5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0)
material_override = SubResource("StandardMaterial3D_tcor0")
pixel_size = 0.001
billboard = 2
no_depth_test = true
texture = ExtResource("9_511m2")

[node name="LightmapGI" type="LightmapGI" parent="." index="7"]
quality = 2
bounces = 6
light_data = ExtResource("9_qnq7c")

[node name="screencapCam" type="Camera3D" parent="." index="8"]
transform = Transform3D(-0.958706, 0, 0.2844, 0, 1, 0, -0.2844, 0, -0.958706, 3.883, 1.891, -6.96)

[connection signal="body_entered" from="entities/extraction_area" to="." method="_on_extraction_area_body_entered"]
[connection signal="body_exited" from="entities/extraction_area" to="." method="_on_extraction_area_body_exited"]
